<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Driver Login</title>
<style>
body{font-family:Arial;background:#f5f7fa;display:flex;justify-content:center;align-items:center;height:100vh;}
form{background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.1);width:350px;text-align:center;}
input,button,select{width:100%;padding:10px;margin-bottom:15px;border-radius:8px;border:1px solid #ccc;}
button{background:#16a085;color:#fff;border:none;cursor:pointer;}
button:hover{background:#1abc9c;}
.register-link{margin-top:10px;display:block;color:#16a085;text-decoration:none;}
.register-link:hover{text-decoration:underline;}
</style>
</head>
<body>
<form method="POST">
                             <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

<h2>Driver Login</h2>
<select name="method" onchange="toggleFields(this.value)">
  <option value="email">Email & Password</option>
  <option value="phone">Phone & OTP</option>
</select>

<div id="emailFields">
  <input type="email" name="email" placeholder="Email" required>
  <input type="password" name="password" placeholder="Password" required>
</div>

<div id="phoneFields" style="display:none;">
  <input type="text" name="phone" placeholder="Phone Number">
</div>

<button type="submit">Login</button>
<a href="{{ url_for('driver.register_driver') }}" class="register-link">Not registered? Register</a>
</form>

<script>
function toggleFields(value){
    document.getElementById('emailFields').style.display = value==='email' ? 'block':'none';
    document.getElementById('phoneFields').style.display = value==='phone' ? 'block':'none';
}
</script>
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul style="list-style:none; padding:0;">
      {% for category, message in messages %}
        <li style="color: {% if category=='success' %}green{% elif category=='error' %}red{% else %}black{% endif %};">
          {{ message }}
        </li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}
</body>
</html>
